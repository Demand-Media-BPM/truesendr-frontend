/* src/Components/DeliverabilityHistory.css */

/* -----------------------------------------
   Base: use rem + keep laptop view SAME
   1rem = 16px (browser default)
----------------------------------------- */

:root{
  --dh-card-radius: 0.75rem;          /* 12px */
  --dh-control-radius: 0.625rem;      /* 10px */
  --dh-gap: 0.75rem;                  /* 12px */
  --dh-gap-sm: 0.5rem;                /* 8px */

  /* keep your exact “laptop” paddings/sizes */
  --dh-toolbar-my: 0.625rem;          /* 10px */
  --dh-control-minh: 2.9375rem;       /* 47px */
  --dh-control-py: 0.5rem;            /* 8px */
  --dh-control-px: 0.75rem;           /* 12px */

  --dh-head-py: 0.875rem;             /* 14px */
  --dh-row-py: 0.75rem;               /* 12px */

  --dh-font-12: 0.75rem;              /* 12px */
  --dh-font-13: 0.8125rem;            /* 13px */
  --dh-font-14: 0.875rem;             /* 14px */
  --dh-font-18: 1.125rem;             /* 18px */

  --dh-icon-18: 1.125rem;             /* 18px */
  --dh-dot: 0.5rem;                   /* 8px */

  --dh-shadow: 0 0.5rem 1.25rem rgba(15, 23, 42, 0.04);
}

/* HISTORY */
.deliv-history{
  margin-top: 0.375rem;               /* 6px */
  display: flex;
  flex-direction: column;
  min-height: 0;
  flex: 1;
}

/* Empty state inside history card (match your screenshot style) */
.delivH-empty {
  height: 100%;
  min-height: 22rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1.25rem;
  background: #ffffff;
}

.delivH-emptyLogo {
  width: clamp(100px, 10vw, 160px);
  height: auto;
  display: block;
  margin: 0 auto 0.75rem auto;
}

.delivH-emptyTitle {
  font-size: 0.95rem;
  font-weight: 600;
  color: #111827;
}

.delivH-emptySub {
  margin-top: 0.35rem;
  font-size: 0.85rem;
  color: #667085;
  text-align: center;
}


/* =========================
   Toolbar
   ========================= */

.delivH-toolbar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--dh-gap);
  margin: var(--dh-toolbar-my) 0 var(--dh-toolbar-my);
}

.delivH-left{
  display: flex;
  align-items: center;
  gap: var(--dh-gap);
  flex-wrap: wrap;
}

/* search box */
.delivH-controlBox{
  display: flex;
  align-items: center;
  gap: 0.625rem;                      /* 10px */
  background: #ffffff;
  border: 1px solid #e8eaef;
  border-radius: var(--dh-control-radius);
  padding: var(--dh-control-py) var(--dh-control-px);
  min-height: var(--dh-control-minh);
  box-shadow: var(--dh-shadow);
}

.delivH-searchBox{
  min-width: 17.5rem;                 /* 280px */
}

.delivH-input{
  width: 100%;
}

.delivH-input input{
  font-size: var(--dh-font-14);
  color: #0f172a;
}

.delivH-endIcon{
  font-size: var(--dh-icon-18) !important;
  color: #334155;
}

/* clear history */
.delivH-clearBtn{
  display: inline-flex;
  align-items: center;
  gap: var(--dh-gap-sm);
  color: #ff6d00;
  font-weight: 700;
  border-radius: var(--dh-control-radius);
  padding: 0.375rem 0.625rem;         /* 6px 10px */
  white-space: nowrap;
}

.delivH-clearBtn:hover{
  background: rgba(249, 115, 22, 0.08);
}

.delivH-clearText{
  cursor: pointer;
  font-size: var(--dh-font-14);
}

.delivH-infoBtn{
  padding: 0.125rem !important;       /* 2px */
}

.delivH-infoBtn svg{
  font-size: var(--dh-icon-18) !important;
  color: #334155;
}

.delivH-infoBtn:hover svg{
  color: #111827;
}

/* =========================
   Card + Table
   ========================= */

.deliv-history-card{
  border: 1px solid var(--border);
  border-radius: var(--dh-card-radius);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  min-height: 0;
  flex: 1;
}

.deliv-history-tableWrap{
  flex: 1;
  min-height: 0;
  overflow: auto; /* keep */
}

/* ✅ Outer table should NOT shrink on small screens
   We keep your column widths (laptop look), but allow horizontal scroll */
.deliv-history-table{
  table-layout: fixed;
  width: 100%;
  min-width: 56rem; /* ✅ forces horizontal scroll instead of squeezing */
}

/* BODY cells: no wrap */
.deliv-history-table td{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* HEADER cells: no wrap + no ellipsis */
.deliv-history-table th{
  overflow: visible !important;
  text-overflow: unset !important;
  white-space: nowrap !important;
}

/* Numbers align nicer */
.col-num,
.col-providers{
  font-variant-numeric: tabular-nums;
}

.deliv-loading{
  padding: 1rem;                      /* 16px */
  font-size: var(--dh-font-12);
  color: var(--muted);
}

.deliv-empty-row{
  color: var(--muted);
  font-size: var(--dh-font-12);
}

/* MUI head row style */
.deliv-mui-head th{
  font-weight: 500 !important;
  background: #f2f6fa !important;
  border-bottom: 1px solid var(--border) !important;
  padding-top: var(--dh-head-py) !important;
  padding-bottom: var(--dh-head-py) !important;
  color: var(--text);
  font-size: var(--dh-font-13);
}

/* row cells */
.deliv-history-row td{
  padding-top: var(--dh-row-py) !important;
  padding-bottom: var(--dh-row-py) !important;
  border-bottom: 1px solid #eef2f7 !important;
  font-size: var(--dh-font-13);
}

.deliv-history-row:nth-of-type(even) td{ background: #f2f6fa; }
.deliv-history-row:nth-of-type(odd)  td{ background: #ffffff; }

/* status pill */
.hist-status{
  display: inline-flex;
  align-items: center;
  gap: 0.625rem;                      /* 10px */
  white-space: nowrap;
}

.hist-dot{
  width: var(--dh-dot);
  height: var(--dh-dot);
  border-radius: 62.4375rem;          /* 999px */
  display: inline-block;
}

.hist-dot--green{ background: #16a34a; }
.hist-dot--blue { background: #2563eb; }
.hist-dot--gray { background: #9ca3af; }

.hist-statusText{
  font-size: var(--dh-font-12);
  color: #344054;
  font-weight: 500;
}

/* Column widths (your working perfect layout) */
.col-test      { width: 22%; padding-right: 1.125rem !important; } /* 18px */
.col-status    { width: 12%; }
.col-created   { width: 17%; white-space: nowrap; }
.col-providers { width: 10%;  text-align: center; }
.col-num       { width: 5%; }
.col-action    { width: 12%; text-align: center; white-space: nowrap; }

/* keep small columns readable */
.col-providers,
.col-num{ min-width: 4.375rem; }      /* 70px */
.col-action{ min-width: 7.5rem; }     /* 120px */
.col-created{ min-width: 10.625rem; } /* 170px */

/* button */
.deliv-viewReportBtn{
  color: var(--primary) !important;
  font-weight: 600 !important;
  text-transform: none !important;
  white-space: nowrap !important;

  min-width: unset !important;
  padding: 0 0.5rem !important;       /* 8px */
  justify-content: center !important;
  font-size: var(--dh-font-13) !important;
}

.MuiTablePagination-root{
  border-top: 1px solid var(--border);
  background: #fff;
  position: sticky;
  bottom: 0;
  z-index: 6;
  font-size: var(--dh-font-13);
}

/* =========================
   REPORT MODAL
   ========================= */

.delivReportPaper{
  border-radius: 0.875rem !important; /* 14px */
  overflow: hidden !important;
  border: 1px solid #e8eaef !important;
}

.delivReportTitle{
  padding: 1rem 1.125rem 0 1.125rem;  /* 16 18 0 18 */
  font-size: var(--dh-font-18);
  font-weight: 600;
  color: #111827;
}

.delivReportBody{
  padding: 0.75rem 1.125rem;          /* 12 18 */
}

.delivReportTop{
  display: grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 1.125rem;                      /* 18px */
  align-items: center;
  margin-top: 0.625rem;               /* 10px */
  margin-bottom: 0.625rem;
}

.delivReportTopLeft{
  display: flex;
  align-items: center;
  gap: 1.125rem;                      /* 18px */
  padding-right: 0.625rem;            /* 10px */
}

.delivReportDonut{
  width: 10rem;                       /* 160px */
  height: 10rem;
  border-radius: 62.4375rem;
  position: relative;
  border: 0.5rem solid #ffffff;       /* 8px */
}

.delivReportDonutHole{
  position: absolute;
  inset: 1.625rem;                    /* 26px */
  border-radius: 62.4375rem;
  background: #fff;
}

.delivReportLegend{
  display: flex;
  flex-direction: column;
  gap: 0.625rem;                      /* 10px */
  min-width: 11.875rem;               /* 190px */
}

.delivLegendRow{
  display: grid;
  grid-template-columns: 1.375rem 1fr 1.625rem; /* 22 1fr 26 */
  align-items: center;
  gap: 0.625rem;
  padding: 0;
  border-radius: 0;
  background: transparent;
}

.delivLegendRow .delivPillLabel{
  font-size: var(--dh-font-12);
  color: #475569;
  font-weight: 500;
}

.delivLegendRow .delivPillCount{
  font-size: var(--dh-font-12);
  color: #111827;
  font-weight: 600;
  text-align: right;
}

.delivPillDot{
  width: 1.125rem;                    /* 18px */
  height: 0.5rem;                     /* 8px */
  border-radius: 62.4375rem;
  display: inline-block;
}

.delivPillDot--empty{ background: transparent !important; }

.delivReportDivider{
  height: 0;
  border-top: 1px dashed #d6dde8;
  margin: 0.625rem 0 0.5rem;
}

.delivLegendRow--muted{ padding-top: 0.5rem; }

/* right side */
.deliv-modal-right{
  justify-self: stretch;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  padding-left: 1.625rem;             /* 26px */
  border-left: 1px solid #e5e7eb;
  min-height: 5.25rem;                /* 84px */
  align-self: stretch;
  justify-content: center;
}

.deliv-modal-right .credits-text{
  font-size: var(--dh-font-12);
  color: var(--text);
  margin-bottom: 0.375rem;            /* 6px */
}

.deliv-download-link{
  background: transparent;
  border: none;
  color: var(--primary);
  font-size: var(--dh-font-12);
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;                      /* 6px */
  padding: 0;
  font-weight: 900;
}

/* ✅ modal table: keep one-line values and allow horizontal scroll */
.delivReportTableWrap{
  border: 1px solid #e8eaef;
  border-radius: 0.625rem;            /* 10px */
  overflow: auto;
  max-height: 13.75rem;               /* 220px */
}

.delivReportTableHead,
.delivReportTableRow{
  display: grid;
  grid-template-columns: 1.1fr 0.9fr 0.7fr 1.4fr 1.2fr;
  gap: 0.625rem;
  padding: 0.625rem 0.75rem;          /* 10 12 */
  min-width: 52rem;                   /* ✅ force scroll instead of wrap */
}

.delivReportTableHead{
  background: #f2f6fa;
  border-bottom: 1px solid #e8eaef;
  font-size: var(--dh-font-12);
  font-weight: 500;
  color: #111827;
  position: sticky;
  top: 0;
  z-index: 5;
}

.delivReportTableRow{
  font-size: var(--dh-font-12);
  color: #111827;
  border-bottom: 1px solid #eef2f7;
  background: #f2f6fa;
}

.delivReportTableRow:nth-child(even){ background: #fff; }

/* ✅ stop wrapping in modal cells (except Error) */
.delivReportTableRow > div,
.delivReportTableHead > div{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Provider name */
.delivReportTableRow .prov-mini-name{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Error column can wrap (readable) */
.delivReportTableRow .cell-error{
  color: #475569;
  white-space: normal;
  overflow: visible;
  text-overflow: unset;
  line-height: 1.25;
}

.delivReportFooter{
  display: flex;
  justify-content: flex-end;
  padding-top: 0.625rem;              /* 10px */
}

.delivCloseBtn{
  color: #000;
  border: none;
  border-radius: 0.5rem;              /* 8px */
  height: 2.125rem;                   /* 34px */
  padding: 0 1rem;                    /* 16px */
  font-size: var(--dh-font-12);
  font-weight: 600;
  cursor: pointer;
}

.delivCloseBtn:hover{ filter: brightness(0.95); }

.delivReportPaper--md{
  width: 47.5rem !important;          /* 760px */
  max-width: calc(100vw - 4rem) !important; /* 64px */
  margin: 0 auto !important;
}

/* =========================
   CLEAR HISTORY DIALOG
   ========================= */

.delivClearPaper{
  width: 21.875rem !important;        /* 350px */
  max-width: calc(100vw - 3rem) !important; /* 48px */
  border-radius: 0.625rem !important; /* 10px */
  overflow: hidden !important;
}

.delivClearTitle{
  padding: 1.125rem 1.25rem 0.375rem 1.25rem;
  font-size: var(--dh-font-18);
  font-weight: 600;
  color: #111827;
}

.delivClearBody{
  padding: 0 1.25rem 0.875rem 1.25rem;
  font-size: var(--dh-font-13);
  color: #111827;
  line-height: 1.5;
}

.delivClearActions{
  padding: 0.625rem 1.25rem 0.875rem 1.25rem;
  display: flex;
  justify-content: flex-end;
  gap: 1.375rem;                      /* 22px */
}

.delivClearCancel,
.delivClearConfirm{
  background: transparent;
  border: none;
  font-size: var(--dh-font-13);
  font-weight: 500;
  cursor: pointer;
}

.delivClearCancel{ color: #111827; }
.delivClearConfirm{ color: #ef4444; }

.delivClearCancel:disabled,
.delivClearConfirm:disabled{
  opacity: 0.6;
  cursor: not-allowed;
}

/* ==========================================================
   RESPONSIVE BREAKPOINTS
   Keep laptop (1024-1439) exactly same.
========================================================== */

/* ---------- 1024 baseline: keep as-is (no changes) ---------- */
@media (min-width: 64rem) and (max-width: 89.9375rem){
  /* intentionally empty to preserve laptop view */
}

/* ---------- 768 and below (tablet + mobile)
   ✅ Toolbar stays ONE LINE: search left, clear right
   ✅ Search does NOT become full width
   ✅ Tables scroll horizontally, do NOT shrink
----------------------------------------- */
@media (max-width: 48rem){
  .delivH-toolbar{
    flex-direction: row;   /* ✅ keep one line */
    align-items: center;
    justify-content: space-between;
    flex-wrap: nowrap;     /* ✅ prevent stacking */
    gap: 0.625rem;
  }

  .delivH-left{
    flex: 1;
    flex-wrap: nowrap;     /* ✅ one line */
    min-width: 0;
  }

  /* ✅ search stays left-aligned and NOT full width */
  .delivH-searchBox{
    min-width: 0;
    width: auto;
    flex: 1;
    max-width: 22rem;      /* ✅ not full width */
  }

  .delivH-clearBtn{
    margin-left: auto;
    padding: 0.25rem 0.5rem;
  }

  /* Slightly smaller button text like Single/Bulk */
  .deliv-viewReportBtn{
    font-size: var(--dh-font-12) !important;
    padding: 0 0.375rem !important;
  }

  /* keep density comfortable */
  .deliv-mui-head th{
    padding-top: 0.75rem !important;
    padding-bottom: 0.75rem !important;
  }
  .deliv-history-row td{
    padding-top: 0.625rem !important;
    padding-bottom: 0.625rem !important;
  }

  /* ✅ Ensure outer table always scrolls on smaller screens */
  .deliv-history-tableWrap{
    overflow-x: auto;
  }
}

/* ---------- 425 and below (mobile)
   ✅ search stays left, clear stays right (one line)
   ✅ search becomes smaller but still usable
----------------------------------------- */
/* @media (max-width: 26.5625rem){ */
@media (max-width: 26.875rem){
  .deliv-history{
    margin-top: 0.25rem;
  }

  .delivH-controlBox{
    min-height: 2.75rem;
    padding: 0.5rem 0.625rem;
    gap: 0.5rem;
  }

  .delivH-endIcon{
    font-size: 1rem !important;
  }

  .delivH-searchBox{
    max-width: 16rem;      /* ✅ more compact on small phones */
  }

  /* modal width */
  .delivReportPaper--md{
    max-width: calc(100vw - 1.5rem) !important;
  }

    /* ✅ MOBILE REPORT: keep donut + legend inside frame */
  .delivReportTopLeft{
    gap: 0.75rem;              /* was 1.125rem (18px) */
    padding-right: 0;          /* remove extra right padding */
    flex-wrap: wrap;           /* allow wrap instead of overflow */
  }

  .delivReportDonut{
    width: 8.25rem;            /* smaller donut on mobile */
    height: 8.25rem;
    border-width: 0.375rem;    /* slightly thinner ring */
  }

  .delivReportDonutHole{
    inset: 1.375rem;           /* keep hole proportional */
  }

  .delivReportLegend{
    min-width: 0;              /* was 190px -> causes overflow */
    width: auto;
    gap: 0.5rem;               /* tighter */
  }

  .delivLegendRow{
    gap: 0.5rem;               /* tighter */
    grid-template-columns: 1.25rem 1fr 1.5rem; /* slightly smaller */
  }

  .delivReportDivider{
    width: 100%;
    max-width: 12rem;       /* keeps it visually balanced */
    align-self: stretch;    /* ensures it spans legend width */
  }

    /* ✅ MOBILE: center donut/legend and credits block to same center line */
  .delivReportTop{
    grid-template-columns: 1fr;   /* stack */
    justify-items: center;        /* center the whole block */
    gap: 0.75rem;                 /* tighter */
  }

  .delivReportTopLeft{
    justify-content: center;
  }

  .delivReportLegend{
    align-items: center;          /* center rows block */
  }

  .deliv-modal-right{
    border-left: none;            /* remove center divider effect */
    padding-left: 0;              /* remove the shift */
    align-items: center;          /* center content */
    text-align: center;
  }


}

/* ---------- 1440 and up (bigger desktop) ---------- */
@media (min-width: 90rem){
  :root{
    --dh-font-12: 0.8125rem;
    --dh-font-13: 0.875rem;
    --dh-font-14: 0.9375rem;
    --dh-font-18: 1.25rem;
    --dh-control-minh: 3.125rem;
  }

  .delivReportPaper--md{
    width: 52rem !important;
  }
}

/* ---------- 2560 and up (2K/4K) ---------- */
@media (min-width: 160rem){
  :root{
    --dh-font-12: 0.875rem;
    --dh-font-13: 0.9375rem;
    --dh-font-14: 1rem;
    --dh-font-18: 1.375rem;

    --dh-control-minh: 3.25rem;
    --dh-head-py: 1rem;
    --dh-row-py: 0.875rem;
  }

  .delivReportPaper--md{
    width: 58rem !important;
  }

  .delivReportDonut{
    width: 11rem;
    height: 11rem;
  }
}
